<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.1.js"></script>
	<style type="text/css">
	table {
		height: 10%;
		width : 5%;
		margin: 40px;
		float: left;
	}
	tr:last-child td {
	   border:2pt solid black;
	   text-align: center;
	   height: 20px;
	   max-width: 50px;
	   overflow: hidden;
	}
	</style>
</head>
<body>
<button>Substructions</button>
<button>Additions</button>
<div></div>
</body>
	<script type="text/javascript">
		var answerArray=[],number=function(){var a=function(){for(var a=[],b=0;20>b;b++){for(var c=1e4*Math.random(),d=c.toString();0==parseInt(d[0])||0==parseInt(d[1])||0==parseInt(d[2])||0==parseInt(d[3])||isNaN(parseInt(d[0]))||isNaN(parseInt(d[1]))||isNaN(parseInt(d[2]))||isNaN(parseInt(d[3]));)c=1e4*Math.random(),d=c.toString();a.push(parseInt(d[0]+d[1])),a.push(parseInt(d[2]+d[3]))}return a},b=function(a){for(var b=0;b<a.length;b+=2)if(a[b+1]>a[b]){var c=a[b+1];a[b+1]=a[b],a[b]=c}return a};this.getNumberSetForAddition=function(){var b=a();return b},this.getNumberSetForSubstruction=function(){var c=b(a());return c}},generateSubstructions=function(a){for(var b="",c=0,d=0;20>d;d++)b+="<table data-index='"+d+"'>",b+="<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;"+a[c]+"</td></tr>",b+="<tr><td>&nbsp;&nbsp;- "+a[c+1]+"</td></tr>",b+="<tr class='last-child'><td contenteditable='true'></td></tr></table>",answerArray[d]=a[c]-a[c+1],c+=2;$("div").html(b),bindEvent()},generateAdditions=function(a){for(var b="",c=0,d=0;20>d;d++)b+="<table data-index='"+d+"'>",b+="<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+a[c]+"</td></tr>",b+="<tr><td>&nbsp;&nbsp;+ "+a[c+1]+"</td></tr>",b+="<tr class='last-child'><td contenteditable='true'></td></tr></table>",answerArray[d]=a[c]+a[c+1],c+=2;$("div").html(b),bindEvent()},checkResult=function(a,b,c){console.log(answerArray[b]),a==answerArray[b]?$(c).css({"background-color":"#BDF584"}):$(c).css({"background-color":"#F58484"})};$(document).ready(function(){var a=new number;$("button:first").on("click",function(b){b.preventDefault(),generateSubstructions(a.getNumberSetForSubstruction())}),$("button:eq(1)").on("click",function(b){b.preventDefault(),generateAdditions(a.getNumberSetForAddition())})});var bindEvent=function(){$("td[contenteditable='true']").unbind("keydown"),$("td[contenteditable='true']").on("keydown",function(a){var b=a.which?a.which:a.keyCode;return b>=37&&40>=b?!0:b>=96&&105>=b?!0:b>31&&(48>b||b>57)?!1:void 0}),$("td[contenteditable='true']").unbind("keyup"),$('td[contenteditable="true"]').on("keyup",function(a){$(a.currentTarget).text().length>0&&checkResult(parseInt($(a.currentTarget).text()),parseInt($(a.currentTarget).parent().parent().parent().data("index")),$(a.currentTarget)[0]),$(a.currentTarget).text($(a.currentTarget).text())})};
	</script>
</html>
